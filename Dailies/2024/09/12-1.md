### 2024.09.12

### 개념 복습

## HTTP

- HyperText Transfer Protocol
  - HyperText: 웹페이지를 다른페이지로 연결(Link)
  - Transfer: 전송
  - Protocol: 통신 규약
- 즉, HTTP란 링크를 통해 서로 다른 웹페이지를 연결하여 통신 하기위한 규약이라고 말할 수 있다. 주로 서버와 클라이언트간의 리소스를 주고 받기위해 사용 됨
- Stateless로 무상태성을 띔
- TCP/IP를 사용하는 응용 프로토콜

#### HTTP 작동

- 요청

  - 클라이언트는 필요한 자원에 대한 정보를 서버로 요청 함
  - URL
    - 헤더 : 요청에 필요한 정보를 담고있음. 주로 요청하는 브라우저 환경이나, 자원의 타입, 토큰등을 포함
    - 바디 : 본문
  - Method
    - 해당 자원을 어떻게 처리할지를 명시. Get, Post, delete등

- 응답

  - 클라이언트의 요청에 대한 응답
    - 상태 코드 : 2xx, 3xx, 4xx, 5xx 등으로 표시되며, 해당 요청에 대한 상태값을 반환함
    - 헤더 : 리소스의 정보
    - 바디 : 본문

- 요약 : URL은 해당 자원을 접근하기 위한 주소이자 요청 자원에 대한 정보를 말하며, Method는 자원의 처리 방법을 말한다.

### REST API

HTTP를 통해 URL과 Method를 사용하여 통신할 수 있다. 이정도 규약으로는 사람들의 상상을 통제할 수 없을 것이다. 이를 위해 REST가 생겨났다.

#### REST

URL과 Method를 사용하여 서버와 클라이언트간 통신을 하기위해 정해진 규약을 말한다.
REST 규칙을 지켜 API를 설계하면, 리소스를 어떻게 다룰지 명확하게 이해할 수 있으므로 지키는게 좋다!

- 규칙
  - 명사사용
  - 복수형 사용 (동사X)
  - 하이픈 사용
  - 범용적 설계 : 리소스간의 의존성을 최소화 (파라미터, 쿼리 활용)

#### API

리소스의 명칭을 말한다. 여기서! **URL이 API인가요?!**  
정답은 아니다. URL은 API의 경로이고 URL을 통해 서버와 클라이언트가 통신하는 것이다.  
API는 리소스의 명칭이고, URL은 요청사항을 적은 주소이며, HTTP Method는 처리 방법을 말한다.

- 정리

1. 클라이언트는 URL을 통해 자원요청을 함. URL에는 서버의 주소와 필요한 리소스의 정보를 담고 있음
2. 서버는 URL의 정보를 통해 API 엔드포인트를 호출하고, Method를 통해 리소스를 처리하여 클라이언트로 전송 함
3. 클라이언트는 해당 리소스를 화면에 표시 함

#### REST API와 RESTful API

REST API는 REST의규칙을 지켜 API를 설계한 것  
RESTful API은 REST의 모든 규칙을 완벽하게 설계한 API를 말하는 표현식

## Rendering

응답 받은 데이터를 화면에 그려보자! URL입력부터 렌더링 까지!

1. 사용자가 simpang.kr을 입력
2. DNS는 simpang.kr의 ip를 검색하고 ip로 연결해 줌!
3. 웹에서는 사용자에게 필요한 정보를 표시하기 위해 서버로 자원을 요청함
4. 서버는 요청받은 자원을 클라이언트로 전송 함
5. 응답받은 데이터를 화면에 표시하여 사용자가 보게 됨
   1. HTML의 태그를 파싱하여 DOM 노드트리 구축
   2. CSS의 속성을 파싱하여 CSSOM 노드트리 구축
   3. DOM 노드트리와 CSSOM 노드트리를 합쳐 렌더트리 구축
   4. 레이아웃을 계산함 (위치 선정!)
   5. 페인딩 단계를 가짐 (꾸미기!)

### JavaScript 실행

- 렌더링 도중에 JavaScript를 만나면, 파싱을 멈추고 JS가 실행된다. 왜냐하면 JS는 싱글스레드 언어이기 때문이다. 그럼 어떤 일이 일어날까?
    - 렌더링 시간이 길어지므로 사용자는 더 긴 로딩 시간을 가지게 됨
    - 노드트리가 형성되기 전, 해당 태그를 필요로하는 JS가 있다면, 참조 에러가 발생하게 됨! 없으니까!
- 해결을 위해서는?
    - body 마지막에 script 작성
    - defer, async 속성 사용
        - defer : script 위치와 상관없이 모든 트리가 구축되고 실행
        - async : 비동기적으로 실행되기 때문에 보통 외부 script를 사용할 때 씀
